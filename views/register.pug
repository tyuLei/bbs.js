extends basic-layout.pug

block content
  form(action="/register" method="post")
    div 用户名
    input(type="text" name="name")
    span.tip
    div 密码
    input(type='password' name="password")
    span.tip
    div 电子邮件
    input(type='email' name='email')
    span.tip
    div
      button 注册
  script.
    let nameInput = document.querySelector("[name = 'name']")
    let spanTip = document.querySelector(".tip")

    nameInput.oninput = function(e){
      $.get('/username-conflict-check?name=' + this.value).then(result => {
          spanTip.textContent = result.msg
          //- $(".tip").textContent = result.msg

      })
    }